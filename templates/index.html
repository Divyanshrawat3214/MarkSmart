<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Admin - Daily QR</title>
</head>
<body>
<h2>Today's QR ({{today}})</h2>
<img src="{{qr_url}}" alt="Today's QR" style="width:250px; height:250px;">
<p>Students should scan this QR. The link opens the camera page to mark attendance.</p>
<hr>
<h3>Enroll new student</h3>
<form id="enrollForm" enctype="multipart/form-data">
<input type="text" name="name" placeholder="Student Full Name" required>
<input type="file" name="photo" accept="image/*" required>
<button type="submit">Upload</button>
</form>
<script>
document.getElementById('enrollForm').onsubmit = async (e) => {
e.preventDefault();
const fd = new FormData(e.target);
const res = await fetch('/enroll', {method:'POST', body: fd});
const j = await res.json(); alert(JSON.stringify(j));
}
</script>
</body>
</html>